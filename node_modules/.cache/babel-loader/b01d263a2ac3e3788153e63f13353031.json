{"ast":null,"code":"import _classCallCheck from \"/Users/yanyanjiang/Documents/itlize/Project2/joole-with-backend-master/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/yanyanjiang/Documents/itlize/Project2/joole-with-backend-master/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/yanyanjiang/Documents/itlize/Project2/joole-with-backend-master/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/yanyanjiang/Documents/itlize/Project2/joole-with-backend-master/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/yanyanjiang/Documents/itlize/Project2/joole-with-backend-master/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/yanyanjiang/Documents/itlize/Project2/joole-with-backend-master/src/components/MainContainer.js\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport styles from './MainContainer.module.css'; // import globalStyles from './bootstrap.min.module.css';\n// import cx from 'classnames';\n\nimport LoginForm from './LoginForm';\nimport SearchForm from './SearchForm';\nimport * as actions from '../actions/userActions';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport { Redirect } from 'react-router'; // import Header from './Header';\n\nimport { Route } from 'react-router-dom'; // import { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\n\nimport LoginBackground from './LoginBackground';\nimport ProductsPage from './products/ProductsPage';\n\nvar MainContainer =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(MainContainer, _Component);\n\n  function MainContainer(props) {\n    var _this;\n\n    _classCallCheck(this, MainContainer);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(MainContainer).call(this, props));\n\n    _this.logIn = function () {\n      _this.setState({\n        loggedIn: true\n      }, function () {\n        return console.log(_this.state.loggedIn);\n      });\n    };\n\n    _this.state = {\n      loggedIn: false\n    };\n    return _this;\n  }\n\n  _createClass(MainContainer, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      // console.log(this.props.users)\n      this.props.actions.loadRegisteredUsers();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var routeGuard = this.state.loggedIn || sessionStorage.getItem('currentUser');\n      return React.createElement(\"div\", {\n        className: styles.container,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40\n        },\n        __self: this\n      }, routeGuard ? null : React.createElement(\"div\", {\n        className: styles.signup,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      }, \"Sign up\"), React.createElement(Route, {\n        exact: true,\n        path: \"/\",\n        render: function render() {\n          return React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 62\n            },\n            __self: this\n          }, React.createElement(LoginBackground, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 62\n            },\n            __self: this\n          }), React.createElement(\"p\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 62\n            },\n            __self: this\n          }, React.createElement(Link, {\n            className: styles.linkToLogin,\n            to: \"/login\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 62\n            },\n            __self: this\n          }, \"Please click here to login!\")));\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }), React.createElement(Route, {\n        exact: true,\n        path: \"/login\",\n        render: function render(routeProps) {\n          return React.createElement(LoginForm, Object.assign({}, routeProps, {\n            users: _this2.props.users,\n            logIn: _this2.logIn,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 65\n            },\n            __self: this\n          }));\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }), React.createElement(Route, {\n        exact: true,\n        path: \"/search\",\n        render: function render() {\n          return routeGuard ? React.createElement(SearchForm, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 66\n            },\n            __self: this\n          }) : React.createElement(Redirect, {\n            to: \"/login\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 66\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }), React.createElement(Route, {\n        exact: true,\n        path: \"/products\",\n        render: function render() {\n          return routeGuard ? React.createElement(ProductsPage, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 68\n            },\n            __self: this\n          }) : React.createElement(Redirect, {\n            to: \"/login\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 68\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }))\n      /* className=styles.container */\n      ;\n    }\n  }]);\n\n  return MainContainer;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  console.log(state.users.users);\n  return {\n    users: state.users.users\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    actions: bindActionCreators(actions, dispatch)\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MainContainer);","map":{"version":3,"sources":["/Users/yanyanjiang/Documents/itlize/Project2/joole-with-backend-master/src/components/MainContainer.js"],"names":["React","Component","Link","styles","LoginForm","SearchForm","actions","connect","bindActionCreators","Redirect","Route","LoginBackground","ProductsPage","MainContainer","props","logIn","setState","loggedIn","console","log","state","loadRegisteredUsers","routeGuard","sessionStorage","getItem","container","signup","linkToLogin","routeProps","users","mapStateToProps","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport styles from './MainContainer.module.css';\n// import globalStyles from './bootstrap.min.module.css';\n// import cx from 'classnames';\nimport LoginForm from './LoginForm';\nimport SearchForm from './SearchForm';\nimport * as actions from '../actions/userActions';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport { Redirect } from 'react-router';\n// import Header from './Header';\nimport { Route} from 'react-router-dom';\n// import { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\n\nimport LoginBackground from './LoginBackground';\nimport ProductsPage from './products/ProductsPage';\n\nclass MainContainer extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            loggedIn: false\n        }\n    }\n\n    componentDidMount() {\n        // console.log(this.props.users)\n        this.props.actions.loadRegisteredUsers(); \n    }\n\n    logIn = () => {\n        this.setState({ loggedIn: true }, () => console.log(this.state.loggedIn))\n    }\n\n    render() {\n        const routeGuard = this.state.loggedIn || sessionStorage.getItem('currentUser');\n        return (\n            <div className={styles.container}>\n\n                {routeGuard ? null : <div className={styles.signup}>Sign up</div>}\n\n                {/* <LoginBackground />  */}\n\n                {/* <div className={styles.logoContainer}>\n                    <div className={cx(globalStyles['container-fluid'])}>\n                        <div className={cx(globalStyles.row, styles.logo)}>\n                            <div className={cx(globalStyles.col, globalStyles['col-sm-2'], styles.column)}>j</div>\n                            <div className={cx(globalStyles.col, globalStyles['col-sm-6'], styles.column)}>\n                            <img src='../../third-attempt-logo.svg' alt='' className={styles.svgLogo} />\n                          \n                            </div>\n                            <div className={cx(globalStyles.col, globalStyles['col-sm-2'], styles.column)}>l</div>\n                            <div className={cx(globalStyles.col, globalStyles['col-sm-2'], styles.column)}>e</div>\n                        </div>\n                    </div>\n                </div> */}\n\n                {/* <p className={styles.building}>Building Product Selection Platform</p> */}\n\n                <Route exact path='/' render={() => <div><LoginBackground /><p><Link className={styles.linkToLogin} to={`/login`}>\n                    Please click here to login!</Link></p></div>} />\n\n                <Route exact path='/login' render={(routeProps) => <LoginForm {...routeProps} users={this.props.users} logIn={this.logIn} />} />\n                <Route exact path='/search' render={() => (routeGuard ? (<SearchForm />) : (<Redirect to='/login'/>))} />\n                {/* <Route exact path='/header' component={Header} /> */}\n                <Route exact path='/products' render={() => (routeGuard ? (<ProductsPage />) : (<Redirect to='/login' />))}  />\n\n            </div> /* className=styles.container */\n        )\n    }\n}\n\nconst mapStateToProps = (state) => {\n    console.log(state.users.users)\n    return {\n        users: state.users.users}\n  }\n\nconst mapDispatchToProps = (dispatch) => {\n    return {actions: bindActionCreators(actions, dispatch)}\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MainContainer)\n"]},"metadata":{},"sourceType":"module"}